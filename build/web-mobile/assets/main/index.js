System.register("chunks:///_virtual/auto-center.ts",["./rollupPluginModLoBabelHelpers.js","cc","./simple.ts"],(function(t){"use strict";var e,r,n,i,o,l,a,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.Label},function(t){c=t.Simple}],execute:function(){var s,u,h,p,y,f;o._RF.push({},"4c92cs7z69H1oh1nqJfFooW","auto-center",void 0);var b=l.ccclass,g=l.property;t("AutoCenter",(s=b("AutoCenter"),u=g(a),s((y=e((p=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,n(e,"label",y,i(e)),n(e,"key",f,i(e)),e}r(e,t);var o=e.prototype;return o.start=function(){this.label.string="当前中心锚点："+this.layout.centerAnchor[this.key],this.layout.scrollToCenter()},o.onInputAnchor=function(t){var e=Number(t.string);isNaN(e)||(this.layout.centerAnchor[this.key]=e,this.layout.scrollToCenter(),this.label.string="当前中心锚点："+this.layout.centerAnchor[this.key])},e}(c)).prototype,"label",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=e(p.prototype,"key",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=p))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/baseItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n,r,o,l,a,s,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){l=e.cclegacy,a=e._decorator,s=e.Label,c=e.EditBox,u=e.Component}],execute:function(){var p,f,h,m,b,y,d;l._RF.push({},"747fcCLlqVGuLwfCV1CjmZm","baseItem",void 0);var g=a.ccclass,v=a.property;e("BaseItem",(p=g("BaseItem"),f=v(s),h=v(c),p((y=t((b=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"label",y,r(t)),n(t,"input",d,r(t)),t}i(t,e);var l=t.prototype;return l.show=function(e,t,i){this.index=t,this.label.string=e.message,this.clickFunc=i},l.onClick=function(){var e;null==(e=this.clickFunc)||e.call(this,this.index)},l.onInput=function(){},o(t,[{key:"transform",get:function(){return this.node._uiProps.uiTransformComp}}]),t}(u)).prototype,"label",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=t(b.prototype,"input",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b))||m));l._RF.pop()}}}));

System.register("chunks:///_virtual/baseMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./super-layout.ts","./baseItem.ts"],(function(t){"use strict";var e,i,o,a,n,r,s,l,u,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,r=t._decorator,s=t.EditBox,l=t.director,u=t.Component},function(t){c=t.SuperLayout},function(t){p=t.BaseItem}],execute:function(){var h,d,f,y,m,b,g;n._RF.push({},"d886eg3cJtKoJOzO4sEJHBZ","baseMain",void 0);var v=r.ccclass,I=r.property;t("BaseMain",(h=v("BaseMain"),d=I(c),f=I(s),h((b=e((m=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n))||this,o(e,"layout",b,a(e)),o(e,"input",g,a(e)),e.datas=[],e}i(e,t);var n=e.prototype;return n.toHeader=function(){this.layout.scrollToHeader(1)},n.toFooter=function(){this.layout.scrollToFooter(1)},n.toIndex=function(){var t=Number(this.input.string);isNaN(t)||this.layout.scrollToIndex(t,1)},n.toBack=function(){l.loadScene("main")},n.onRefreshEvent=function(t,e){var i;null==(i=t.getComponent(p))||i.show(this.datas[e],e,this.onClickItem.bind(this))},n.onClickItem=function(t){this.datas.splice(t,1),this.layout.total(this.datas.length)},n.addItem=function(t,e){var i=Number(e);if(!isNaN(i)){for(var o=0;o<i;o++)this.datas.push({message:this.datas.length});this.layout.total(this.datas.length)}},e}(u)).prototype,"layout",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=e(m.prototype,"input",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=m))||y));n._RF.pop()}}}));

System.register("chunks:///_virtual/cutAKnifeLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,i,r,o,a,s,l,u,c,p,h,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Node,l=e.Input,u=e.UITransform,c=e.Label,p=e.tween,h=e.Vec3,b=e.Component}],execute:function(){var m,f,y,L,v,g,d,N,M;o._RF.push({},"a5b7feTcl9EaLFeqrDYhEBB","cutAKnifeLabel",void 0);var w=a.ccclass,x=a.property;e("cutAKnifeLabel",(m=w("cutAKnifeLabel"),f=x({type:s,tooltip:""}),y=x({type:s}),L=x({type:s}),m((d=t((g=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"closeBtn",d,r(t)),i(t,"cutBtn",N,r(t)),i(t,"remianMoneyLabel",M,r(t)),t.interval=.01,t.baseNum=.1,t.fixNum=2,t}n(t,e);var o=t.prototype;return o.start=function(){this.node.on(l.EventType.TOUCH_START,(function(){}),this);this.remianMoneyLabel.getComponent(u).contentSize.clone();this.remianMoneyLabel.getComponent(c).string="还有"+this.baseNum.toString()+"元！";var e=p(this.remianMoneyLabel).to(.3,{scale:new h(1.3,1.3,1)}),t=p(this.remianMoneyLabel).to(.3,{scale:new h(1,1,1)}),n=p(this.remianMoneyLabel).sequence(e,t);p(this.remianMoneyLabel).repeatForever(n).start()},o.cut=function(){this.baseNum-this.interval<=this.interval&&(this.interval/=10,this.fixNum=this.fixNum<=6?this.fixNum+1:6),this.baseNum-=this.interval,this.remianMoneyLabel.getComponent(c).string="还有"+this.baseNum.toFixed(this.fixNum).toString()+"元！"},o.close=function(){this.node.removeFromParent(),this.node.destroy()},o.update=function(e){},t}(b)).prototype,"closeBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(g.prototype,"cutBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(g.prototype,"remianMoneyLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=g))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/detailedTextLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,i,r,o,a,l,p,s,c,u,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Label,p=e.Sprite,s=e.assert,c=e.UITransform,u=e.tween,d=e.Input,f=e.Component}],execute:function(){var b,h,y,g,m,v,C;o._RF.push({},"8581agNOplCYJcqFfC+xdfl","detailedTextLabel",void 0);var L=a.ccclass,T=a.property;e("detailedTextLabel",(b=L("detailedTextLabel"),h=T({type:l,tooltip:"文字子节点"}),y=T({type:p,tooltip:"子图片节点"}),b((v=t((m=function(e){function t(t){var n;return n=e.call(this)||this,i(n,"label",v,r(n)),i(n,"sprite",C,r(n)),n.str=void 0,n.str=t,n}n(t,e);var o=t.prototype;return o.updateStr=function(e){this.node.getChildByName("Label").getComponent(l).string=e},o.updateSpriteFrame=function(e){this.node.getChildByName("Sprite").getComponent(p).spriteFrame=e},o.start=function(){var e=this;s(this.node.parent);var t=this.node.parent.getComponent(c).contentSize;u(this.node.getComponent(c)).to(.3,{contentSize:t}).call((function(){e.node.on(d.EventType.TOUCH_END,(function(){e.node.destroy()}),e)})).start()},o.update=function(e){},t}(f)).prototype,"label",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(m.prototype,"sprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=m))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/failureLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./totalGameMgr.ts"],(function(e){"use strict";var t,a,r,n,i,o,l,s,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,l=e.assert,s=e.Input,c=e.Component},function(e){u=e.totalGameMgr}],execute:function(){var p,f,h,d,m;i._RF.push({},"5e2e5ldda5NB5Gvp2034irX","failureLabel",void 0);var y=o.ccclass,g=o.property;e("failureLabel",(p=y("failureLabel"),f=g({type:u}),p((m=t((d=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"totalGameManager",m,n(t)),t}a(t,e);var i=t.prototype;return i.onClickResBtn=function(){l(this.totalGameManager),this.totalGameManager.startGame(),this.node.removeFromParent(),this.node.destroy()},i.start=function(){this.node.on(s.EventType.TOUCH_START,(function(){}),this)},i.update=function(e){},t}(c)).prototype,"totalGameManager",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=d))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/fakeRedPacketBlock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./sayBlockInterface.ts","./totalGameMgr.ts"],(function(e){"use strict";var t,n,i,a,o,r,c,l,p,s,u,h,d,f,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,c=e.Node,l=e.CCInteger,p=e.Sprite,s=e.math,u=e.Input,h=e.assert},function(e){d=e.blockInterface},function(e){f=e.totalGameMgr,g=e.__externelType}],execute:function(){var y,m,k,C,_,b,v,T,w;o._RF.push({},"c01ddaQ00FGZYvxuOaFgUqM","fakeRedPacketBlock",void 0);var B=r.ccclass,M=r.property;e("fakeRedPacketBlock",(y=B("fakeRedPacketBlock"),m=M({type:c,tooltip:"游戏主视图"}),k=M({type:l,tooltip:"完成它指定任务可以获得的奖励"}),C=M({type:l,tooltip:"任务失败扣除的生命值"}),y((v=t((b=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"gameMainView",v,a(t)),i(t,"moneyValue",T,a(t)),i(t,"punishValue",w,a(t)),t}n(t,e);var o=t.prototype;return o.changeOpac=function(e){var t=this.node.getChildByName("red_packet").getComponent(p).color;this.node.getChildByName("red_packet").getComponent(p).color=new s.Color(t.r,t.g,t.b,255*e)},o.start=function(){var e=this;this.node.on(u.EventType.TOUCH_START,(function(t){e.changeOpac(.5)}),this),this.node.on(u.EventType.TOUCH_END,this.onClick,this)},o.update=function(e){},o.onClick=function(){this.changeOpac(1),h(this.gameMainView),this.gameMainView.getComponent(f).addLayer(g.LAYER_TYPE.IMAGE_TEXT_LAYER,this.node.getChildByName("red_packet").getComponent(p).spriteFrame)},o.onDisappear=function(){},o.onDisable=function(){this.onDisappear()},t}(d)).prototype,"gameMainView",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(b.prototype,"moneyValue",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(b.prototype,"punishValue",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=b))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/helpCutBlock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./sayBlockInterface.ts","./totalGameMgr.ts"],(function(e){"use strict";var t,n,i,o,a,r,l,c,p,u,s,h,g,y,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Node,c=e.CCInteger,p=e.Sprite,u=e.math,s=e.Input,h=e.assert},function(e){g=e.blockInterface},function(e){y=e.totalGameMgr,f=e.__externelType}],execute:function(){var m,d,C,b,k,_,v,B,T;a._RF.push({},"697c5YIo3pBe58rBiSTaq6k","helpCutBlock",void 0);var w=r.ccclass,D=r.property;e("helpCutBlock",(m=w("helpCutBlock"),d=D({type:l,tooltip:"游戏主视图"}),C=D({type:c,tooltip:"完成它指定任务可以获得的奖励"}),b=D({type:c,tooltip:"任务失败扣除的生命值"}),m((v=t((_=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"gameMainView",v,o(t)),i(t,"moneyValue",B,o(t)),i(t,"punishValue",T,o(t)),t}n(t,e);var a=t.prototype;return a.changeOpac=function(e){var t=this.node.getChildByName("red_packet").getComponent(p).color;this.node.getChildByName("red_packet").getComponent(p).color=new u.Color(t.r,t.g,t.b,255*e)},a.start=function(){var e=this;this.node.on(s.EventType.TOUCH_START,(function(t){e.changeOpac(.5)}),this),this.node.on(s.EventType.TOUCH_END,this.onClick,this)},a.update=function(e){},a.onClick=function(){this.changeOpac(1),h(this.gameMainView),this.gameMainView.getComponent(y).addLayer(f.LAYER_TYPE.PDD_LAYER,null)},a.onDisappear=function(){},a.onDisable=function(){this.onDisappear()},t}(g)).prototype,"gameMainView",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(_.prototype,"moneyValue",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(_.prototype,"punishValue",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=_))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/horizontal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./baseItem.ts"],(function(t){"use strict";var n,i,r,o,e;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,r=t._decorator,o=t.Size},function(t){e=t.BaseItem}],execute:function(){var s;i._RF.push({},"a3055FDRN9Nd4hD6P55dVQN","horizontal",void 0);var u=r.ccclass;r.property,t("Horizontal",u("Horizontal")(s=function(t){function i(){return t.apply(this,arguments)||this}n(i,t);var r=i.prototype;return r.onLoad=function(){var t;this.input.placeholder=null==(t=this.transform)?void 0:t.width.toString()},r.onInput=function(){var t,n=Number(this.input.string);isNaN(n)||n<100||null==(t=this.transform)||t.setContentSize(new o(Number(this.input.string),this.transform.contentSize.height))},i}(e))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/loadGameMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,i,n,o,a,l,c,s,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Node,c=t.director,s=t.tween,u=t.Vec3,p=t.Component}],execute:function(){var d,f,h,v,y;o._RF.push({},"64351vnIx5ISoZ/82nM+H/C","loadGameMgr",void 0);var g=a.ccclass,m=a.property;t("loadGameMgr",(d=g("loadGameMgr"),f=m({type:l,tooltip:"TITLE"}),d((y=e((v=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"title",y,n(e)),e}r(e,t);var o=e.prototype;return o.clickLoadBtn=function(t){c.loadScene("Main")},o.start=function(){var t=s(this.title).to(.3,{scale:new u(1.3,1.3,1)}),e=s(this.title).to(.3,{scale:new u(1,1,1)}),r=s(this.title).sequence(t,e);s(this.title).repeatForever(r).start()},o.update=function(t){},e}(p)).prototype,"title",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./cutAKnifeLabel.ts","./detailedTextLabel.ts","./failureLabel.ts","./fakeRedPacketBlock.ts","./helpCutBlock.ts","./loadGameMgr.ts","./mainGameMgr.ts","./musicMgr.ts","./redPacketsBlock.ts","./sayBlockInterface.ts","./textSayBlock.ts","./totalGameMgr.ts","./super-layout.ts","./super-scrollview.ts","./auto-center.ts","./baseItem.ts","./baseMain.ts","./horizontal.ts","./main.ts","./page.ts","./refresh-load.ts","./simple.ts","./vertical.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/main.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,o,r,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.director,c=e.Component}],execute:function(){var i;n._RF.push({},"9ec2bpqxFdFOqRWYeCN/J5Q","main",void 0);var s=o.ccclass;o.property,e("Main",s("Main")(i=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.toScene=function(e,t){r.loadScene(t)},n}(c))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/mainGameMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./sayBlockInterface.ts","./textSayBlock.ts","./totalGameMgr.ts"],(function(t){"use strict";var e,o,n,i,r,a,s,l,h,c,m,u,f,g,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Prefab,l=t.UITransform,h=t.instantiate,c=t.Vec3,t.Node,m=t.Component},function(t){u=t.blockInterface},function(t){f=t.textSayBlock},function(t){g=t.totalGameMgr,p=t.__externelType}],execute:function(){var d,y,b,v,B,T,k,P,M,I,A,_,E;r._RF.push({},"0ce367hlrJPJpTyBajtQrbr","mainGameMgr",void 0);var S=a.ccclass,C=a.property;t("mainGameMgr",(d=S("mainGameMgr"),y=C({type:[s],tooltip:"对话块的预制体"}),b=C({type:[s],tooltip:"可以获得钱包奖励的预制体"}),v=C({type:[s],tooltip:"不能获得奖励的干扰"}),B=C({type:g,tooltip:"整个游戏界面的管理"}),T=C({type:s,tooltip:"BASETEXTBLOCK"}),d((M=e((P=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).gameBegin=!1,e.transform=void 0,e.currentY=0,n(e,"blockPrefab",M,i(e)),n(e,"moneyBlockPrefab",I,i(e)),n(e,"nomoneyBlockPrefab",A,i(e)),n(e,"totalMgr",_,i(e)),n(e,"baseTextBlock",E,i(e)),e.INITIALINTERVAL=900,e.MININTERVAL=500,e._moveInterval=900,e._moveTimePassed=0,e._moveIntervalDecRatio=.7,e.CHOOSEMONEYCHANCE=.39,e}o(e,t);var r=e.prototype;return r.increaseSpeed=function(){this._moveInterval*=this._moveIntervalDecRatio,this._moveInterval<this.MININTERVAL&&(this._moveInterval=this.MININTERVAL)},r.start=function(){this.transform=this.getComponent(l)},r.update=function(t){var e=this;if(this.gameBegin)if(this.totalMgr.status==p.GAME_STATUS.BEGINSTART){var o=h(this.baseTextBlock);o.getComponent(f).updateStr("准备好了吗？"),this.addBlock(o),this.gameBegin=!1,this.scheduleOnce((function(){var t=h(e.baseTextBlock);t.getComponent(f).updateStr("要开始了！"),e.addBlock(t)}),1),this.scheduleOnce((function(){var t=h(e.baseTextBlock);t.getComponent(f).updateStr("开始！🎉"),e.addBlock(t),e.gameBegin=!0}),1.5),this.totalMgr.status=p.GAME_STATUS.START}else this.totalMgr.status==p.GAME_STATUS.START&&(this._moveTimePassed+=1e3*t,this._moveTimePassed>=this._moveInterval&&(this.addBlock(this.getOneBlock()),this._moveTimePassed=0))},r.updateValue=function(t,e){},r.gameStart=function(){this.node.destroyAllChildren(),this.gameBegin=!0,this.currentY=0,this._moveInterval=this.INITIALINTERVAL,this._moveTimePassed=0},r.onClickDebug=function(){this.addBlock(this.getOneBlock()),console.log(this.node.children.length)},r.addBlock=function(t){var e=new c,o=t.getComponent(l);if(e.x=t.position.x,e.y=-this.currentY+(1-this.transform.anchorPoint.y)*this.transform.height-(1-o.anchorPoint.y)*o.height,e.z=0,this.currentY+o.height>=this.transform.height){var n=-this.transform.height+(1-this.transform.anchorPoint.y)*this.transform.height+o.anchorPoint.y*o.height,i=n-e.y;console.log("OFFSET"+i),e.y=n;var r=(1-this.transform.anchorPoint.y)*this.transform.height;this.node.children.forEach((function(t){var e=t.position;r+o.anchorY*o.height<=e.y+i?(t.getComponent(u).onDisappear(),t.destroy()):t.setPosition(e.x,e.y+i,e.z)})),this.currentY=this.transform.height}else this.currentY+=o.height;t.getComponent(u).gameMainView=this.totalMgr.node,this.node.addChild(t),t.setPosition(e)},r.getOneBlock=function(){try{if(Math.random()>=this.CHOOSEMONEYCHANCE&&this.moneyBlockPrefab.length>0){var t=Math.floor(Math.random()*this.moneyBlockPrefab.length);return h(this.moneyBlockPrefab[t])}if(this.nomoneyBlockPrefab.length>0){var e=Math.floor(Math.random()*this.nomoneyBlockPrefab.length);return h(this.nomoneyBlockPrefab[e])}throw console.error("PREFAB EMPTY!")}catch(t){}},e}(m)).prototype,"blockPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=e(P.prototype,"moneyBlockPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=e(P.prototype,"nomoneyBlockPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=e(P.prototype,"totalMgr",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(P.prototype,"baseTextBlock",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=P))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/musicMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var e,t,n,i,u,c,r,s,a,d;return{setters:[function(o){e=o.inheritsLoose},function(o){t=o.cclegacy,n=o._decorator,i=o.VideoPlayer,u=o.find,c=o.Input,r=o.AudioSource,s=o.AudioClip,a=o.resources,d=o.Component}],execute:function(){var p;t._RF.push({},"e0559OtfJhA3qGNNF0Ad+O+","musicMgr",void 0);var l=n.ccclass;n.property,o("musicMgr",l("musicMgr")(p=function(o){function t(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=o.call.apply(o,[this].concat(n))||this)._backgroundAudioSource=void 0,e._effectAudioSource=void 0,e.bgmSpeed=.7,e.SPEEDUPRATIO=1.1,e.MAXSPEED=2,e._currentTime=0,e}e(t,o);var n=t.prototype;return n.speedUp=function(){this.bgmSpeed*=this.SPEEDUPRATIO;var o=this.node.getComponent(i);null!=o&&(o.playbackRate=this.bgmSpeed>this.MAXSPEED?this.MAXSPEED:this.bgmSpeed)},n.regionPlay=function(){this.playOneShot("money",0);var o=this.node.getComponent(i);null!=o&&(o.play(),o.loop=!0,this.bgmSpeed=this.SPEEDUPRATIO,o.playbackRate=this.bgmSpeed),u("Canvas").off(c.EventType.TOUCH_START)},n.start=function(){this._backgroundAudioSource=this.node.addComponent(r),this._effectAudioSource=this.node.addComponent(r),u("Canvas").on(c.EventType.TOUCH_START,this.regionPlay,this)},n.update=function(o){},n.playOneShot=function(o,e){var t=this;void 0===e&&(e=1),o instanceof s?this._effectAudioSource.playOneShot(o,e):a.load(o,(function(o,n){o?console.log(o):t._effectAudioSource.playOneShot(n,e)}))},n.play=function(o,e){var t=this;void 0===e&&(e=1),o instanceof s?(this._backgroundAudioSource.clip=o,this._backgroundAudioSource.play(),this._backgroundAudioSource.volume=e):a.load(o,(function(o,n){o?console.log(o):(t._backgroundAudioSource.clip=n,t._backgroundAudioSource.play(),t._backgroundAudioSource.volume=e)}))},n.stop=function(){this._backgroundAudioSource.stop()},n.pause=function(){this._backgroundAudioSource.pause()},n.resume=function(){this._backgroundAudioSource.play()},t}(d))||p);t._RF.pop()}}}));

System.register("chunks:///_virtual/page.ts",["./rollupPluginModLoBabelHelpers.js","cc","./baseItem.ts","./super-layout.ts","./baseMain.ts"],(function(t){"use strict";var e,n,a,o,r,i,s,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,i=t._decorator},function(t){s=t.BaseItem},function(t){u=t.SuperLayout},function(t){c=t.BaseMain}],execute:function(){var l,p,f,h,y;r._RF.push({},"b9acbBH3nxDOa3uZMCqlKIq","page",void 0);var g=i.ccclass,v=i.property;t("Page",(l=g("Page"),p=v(u),l((y=e((h=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,a(e,"layout",y,o(e)),e}n(e,t);var r=e.prototype;return r.start=function(){for(var t=0;t<8;t++)this.datas.push({message:t});this.layout.total(this.datas.length)},r.onRefreshEvent=function(t,e){var n;null==(n=t.getComponent(s))||n.show(this.datas[e],e,this.onClickItem.bind(this))},r.onClickItem=function(){},r.onPageEvent=function(t){console.error(this.layout.currPageIndex)},e}(c)).prototype,"layout",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=h))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/redPacketsBlock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./sayBlockInterface.ts","./totalGameMgr.ts"],(function(e){"use strict";var t,i,n,o,a,r,l,c,s,u,p,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Node,c=e.CCInteger,s=e.Input,u=e.Sprite,p=e.math},function(e){h=e.blockInterface},function(e){f=e.totalGameMgr}],execute:function(){var g,d,m,y,k,b,C,V,v;a._RF.push({},"51ea7vzKUhMDrSMMst2Kp1v","redPacketsBlock",void 0);var M=r.ccclass,w=r.property;e("redPacketsBlock",(g=M("redPacketsBlock"),d=w({type:l,tooltip:"游戏主视图"}),m=w({type:c,tooltip:"完成它指定任务可以获得的奖励"}),y=w({type:c,tooltip:"任务失败扣除的生命值"}),g((C=t((b=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).finish=!1,n(t,"gameMainView",C,o(t)),n(t,"moneyValue",V,o(t)),n(t,"punishValue",v,o(t)),t}i(t,e);var a=t.prototype;return a.start=function(){this.node.on(s.EventType.TOUCH_END,this.onClick,this)},a.changeOpac=function(e){var t=this.node.getChildByName("red_packet").getComponent(u).color;this.node.getChildByName("red_packet").getComponent(u).color=new p.Color(t.r,t.g,t.b,255*e)},a.update=function(e){},a.onClick=function(){this.changeOpac(.5),this.finish||(this.finish=!0,this.gameMainView.getComponent(f).updateValue(Math.ceil(p.random()*this.moneyValue*100)/100,0))},a.onDisappear=function(){this.finish||this.gameMainView.getComponent(f).updateValue(0,-this.punishValue)},a.onDisable=function(){},t}(h)).prototype,"gameMainView",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(b.prototype,"moneyValue",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(b.prototype,"punishValue",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=b))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/refresh-load.ts",["./rollupPluginModLoBabelHelpers.js","cc","./baseMain.ts"],(function(e){"use strict";var t,r,s,a,n,i,o,h,l,c,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,s=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,i=e._decorator,o=e.Node,h=e.Vec3,l=e.Tween,c=e.Label},function(e){g=e.BaseMain}],execute:function(){var u,d,f,p,w,y,v;n._RF.push({},"89a5cQ/qBdEaLFyit/snMpv","refresh-load",void 0);var T=i.ccclass,b=i.property;e("RefreshLoad",(u=T("RefreshLoad"),d=b(o),f=b(o),u((y=t((w=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n))||this,s(t,"header",y,a(t)),s(t,"footer",v,a(t)),t}r(t,e);var n=t.prototype;return n.onLoad=function(){this.header.setScale(new h(1,0,1)),this.footer.setScale(new h(1,0,1))},n.onHeader=function(e,t){var r,s=this;t.progress>2?this.header.playing||(this.headerTween=new l(this.header),this.headerTween.to(.518,{scale:new h(1,1,1)},{easing:"elasticOut"}),this.headerTween.start(),this.header.playing=!0):(null==(r=this.headerTween)||r.stop(),this.header.playing=!1,this.header.setScale(new h(1,t.progress,1)));var a=this.header.getComponentInChildren(c);"touch"==t.stage&&(a.string="↓ 继续下拉"),"wait"==t.stage&&(a.string="↑ 松开刷新"),"lock"==t.stage&&(a.string=0==this.datas.length?"没有数据":"刷新中..."),"release"==t.stage&&(a.string=""),t.action&&this.scheduleOnce((function(){return s.layout.total(s.datas.length)}),1)},n.onFooter=function(e,t){var r,s=this;t.progress>2?this.footer.playing||(this.footerTween=new l(this.footer),this.footerTween.to(.518,{scale:new h(1,1,1)},{easing:"elasticOut"}),this.footerTween.start(),this.footer.playing=!0):(null==(r=this.footerTween)||r.stop(),this.footer.playing=!1,this.footer.setScale(new h(1,t.progress,1)));var a=this.footer.getComponentInChildren(c);if("touch"==t.stage&&(a.string="↑ 继续上拉"),"wait"==t.stage&&(a.string="↓ 松开加载"),"lock"==t.stage&&(a.string="加载中..."),"release"==t.stage&&(a.string=""),t.action){for(var n=0;n<6;n++)this.datas.push({message:""+this.datas.length});this.scheduleOnce((function(){return s.layout.total(s.datas.length)}),1)}},t}(g)).prototype,"header",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(w.prototype,"footer",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=w))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/sayBlockInterface.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,c,o;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,c=e._decorator,o=e.Component}],execute:function(){t._RF.push({},"ca5aakVjBNDQ6Zx1hFwAkVr","sayBlockInterface",void 0);c.ccclass,c.property,e("blockInterface",function(e){function t(){for(var n,t=arguments.length,c=new Array(t),o=0;o<t;o++)c[o]=arguments[o];return(n=e.call.apply(e,[this].concat(c))||this).gameMainView=void 0,n.moneyValue=void 0,n.punishValue=void 0,n}return n(t,e),t}(o));t._RF.pop()}}}));

System.register("chunks:///_virtual/simple.ts",["./rollupPluginModLoBabelHelpers.js","cc","./baseMain.ts"],(function(t){"use strict";var e,n,r,s,i,a;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){s=t.cclegacy,i=t._decorator},function(t){a=t.BaseMain}],execute:function(){var o;s._RF.push({},"5f170uFuGRCJZCiHTMaOxhs","simple",void 0);var u=i.ccclass;i.property,t("Simple",u("Simple")(o=function(t){function s(){return t.apply(this,arguments)||this}return e(s,t),s.prototype.onLoad=function(){var t=n(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<50;e++)this.datas.push({message:e});return t.next=3,this.layout.total(this.datas.length);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s}(a))||o);s._RF.pop()}}}));

System.register("chunks:///_virtual/super-layout.ts",["./rollupPluginModLoBabelHelpers.js","cc","./super-scrollview.ts"],(function(t){"use strict";var e,i,o,r,n,s,h,a,d,l,c,u,f,T,p,g,v,y,m,x,w,O,_,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,n=t.regeneratorRuntime,s=t.createClass,h=t.asyncToGenerator},function(t){a=t.cclegacy,d=t._decorator,l=t.ccenum,c=t.UITransform,u=t.Prefab,f=t.PageViewIndicator,T=t.EventHandler,p=t.Node,g=t.Vec2,v=t.Vec3,y=t.Size,m=t.SystemEventType,x=t.size,w=t.Component,O=t.director,_=t.instantiate},function(t){B=t.SuperScrollview}],execute:function(){var I,b,A,H,P,R,S,L,E,z,D,F,M,C,G,V,N,X,Y,k,W,Z,j,U,q,J,K,Q,$,tt,et,it,ot,rt,nt,st,ht,at,dt,lt,ct,ut,ft,Tt,pt,gt,vt,yt,mt,xt,wt,Ot,_t,Bt,It,bt,At,Ht,Pt,Rt,St,Lt,Et,zt,Dt;a._RF.push({},"4430bdPVstIyrMzuiBW+hni","super-layout",void 0);var Ft,Mt,Ct,Gt,Vt,Nt,Xt=d.ccclass,Yt=d.property,kt=d.requireComponent,Wt=1e-4;!function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL"}(Ft||(Ft={})),l(Ft),function(t){t[t.TOP_TO_BOTTOM=0]="TOP_TO_BOTTOM",t[t.BOTTOM_TO_TOP=1]="BOTTOM_TO_TOP"}(Mt||(Mt={})),l(Mt),function(t){t[t.LEFT_TO_RIGHT=0]="LEFT_TO_RIGHT",t[t.RIGHT_TO_LEFT=1]="RIGHT_TO_LEFT"}(Ct||(Ct={})),l(Ct),function(t){t[t.NONE=0]="NONE",t[t.HEADER=1]="HEADER",t[t.FOOTER=2]="FOOTER"}(Gt||(Gt={})),function(t){t[t.TOP=0]="TOP",t[t.BOTTOM=1]="BOTTOM"}(Vt||(Vt={})),l(Vt),function(t){t[t.LEFT=0]="LEFT",t[t.RIGHT=1]="RIGHT"}(Nt||(Nt={})),l(Nt);t("SuperLayout",(I=Xt("SuperLayout"),b=kt(c),A=Yt(B),H=Yt(c),P=Yt(u),R=Yt({type:Ft}),S=Yt({type:Vt,visible:function(){return this.layoutType==Ft.VERTICAL&&!this.autoCenter}}),L=Yt({type:Nt,visible:function(){return this.layoutType==Ft.HORIZONTAL&&!this.autoCenter}}),E=Yt({type:Mt}),z=Yt({type:Ct}),D=Yt({tooltip:"最小值=1，大于1就是Grid模式"}),F=Yt({tooltip:"决定最多创建Prefab的数量"}),M=Yt({tooltip:"顶部填充"}),C=Yt({tooltip:"底部填充"}),G=Yt({tooltip:"左侧填充"}),V=Yt({tooltip:"右侧填充"}),N=Yt({tooltip:"横轴间距"}),X=Yt({tooltip:"纵轴间距"}),Y=Yt({tooltip:"计算缩放后的尺寸"}),k=Yt({tooltip:"开启翻页模式"}),W=Yt({tooltip:"每个页面翻页时所需时间。单位：秒",visible:function(){return this.isPageView}}),Z=Yt({type:f,visible:function(){return this.isPageView}}),j=Yt({slide:!0,range:[0,1,.01],tooltip:"滚动临界值，默认单位百分比，当拖拽超出该数值时，松开会自动滚动下一页，小于时则还原",visible:function(){return this.isPageView}}),U=Yt({tooltip:"快速滑动翻页临界值。当用户快速滑动时，会根据滑动开始和结束的距离与时间计算出一个速度值,该值与此临界值相比较，如果大于临界值，则进行自动翻页",visible:function(){return this.isPageView}}),q=Yt({type:T,visible:function(){return this.isPageView}}),J=Yt({tooltip:"开启自动居中",visible:function(){return!this.isPageView}}),K=Yt({tooltip:"自动居中的滚动时间",visible:function(){return this.autoCenter}}),Q=Yt({type:p,tooltip:"自动居中的参考节点，如果为空、则默认选择View中心",visible:function(){return this.autoCenter}}),$=Yt({type:g,tooltip:"自动居中时、Item的居中锚点",visible:function(){return this.autoCenter}}),tt=Yt({tooltip:"上/左 无限循环"}),et=Yt({tooltip:"下/右 无限循环"}),it=Yt(T),I(ot=b(((Dt=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n))||this,o(e,"scrollView",nt,r(e)),o(e,"view",st,r(e)),o(e,"prefab",ht,r(e)),o(e,"layoutType",at,r(e)),o(e,"indexVerticalAxisDirection",dt,r(e)),o(e,"indexHorizontalAxisDirection",lt,r(e)),o(e,"verticalAxisDirection",ct,r(e)),o(e,"horizontalAxisDirection",ut,r(e)),o(e,"groupItemTotal",ft,r(e)),o(e,"multiple",Tt,r(e)),o(e,"paddingTop",pt,r(e)),o(e,"paddingBottom",gt,r(e)),o(e,"paddingLeft",vt,r(e)),o(e,"paddingRight",yt,r(e)),o(e,"spacingX",mt,r(e)),o(e,"spacingY",xt,r(e)),o(e,"affectedByScale",wt,r(e)),o(e,"isPageView",Ot,r(e)),o(e,"pageTurningSpeed",_t,r(e)),o(e,"indicator",Bt,r(e)),o(e,"scrollThreshold",It,r(e)),o(e,"autoPageTurningThreshold",bt,r(e)),o(e,"pageEvents",At,r(e)),o(e,"autoCenter",Ht,r(e)),o(e,"centerTime",Pt,r(e)),o(e,"centerNode",Rt,r(e)),o(e,"centerAnchor",St,r(e)),o(e,"headerLoop",Lt,r(e)),o(e,"footerLoop",Et,r(e)),o(e,"refreshItemEvents",zt,r(e)),e._currPageIndex=0,e._lastPageIndex=0,e.isRestart=!1,e.scrollDirection=Gt.NONE,e.selfHorW=0,e.prevPos=new v(0,0,0),e._maxPrefabTotal=0,e.currentCreateItemTotal=0,e._itemTotal=0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){var t,e,i,o=this;null==(t=this.transform)||t.setAnchorPoint(new g(.5,.5)),null==(e=this.transform)||e.setContentSize(this.view.contentSize),this.node.setPosition(v.ZERO),this.isPageView&&(this.autoCenter=!1),null==(i=this.scrollView.view)||i.node.on(p.EventType.SIZE_CHANGED,this.onViewSizeChange,this),Object.defineProperty(this.transform,"contentSize",{get:function(){return o.contentSize}}),Object.defineProperty(this.transform,"width",{get:function(){return o.contentSize.width}}),Object.defineProperty(this.transform,"height",{get:function(){return o.contentSize.height}})},a.onEnable=function(){this.addEventListener()},a.onDisable=function(){this.removeEventListener()},a.total=function(){var t=h(n().mark((function t(e){var i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.currentCreateItemTotal=e,t.next=3,this.createItems(e);case 3:i=e-this.itemTotal,this._itemTotal=e,this.refreshItems(i),this.scrollView.release(),this.indicator&&this.indicator.setPageView(this.scrollView);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.scrollToCenter=function(){this.soonFinish()},a.scrollToHeader=function(t){var e=0;e=this.vertical?this.verticalAxisDirection==Mt.TOP_TO_BOTTOM?this.viewHeaderBoundary:this.viewFooterBoundary:this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT?this.viewHeaderBoundary:this.viewFooterBoundary,this.scrollToIndex(0,t,new v(e,e))},a.scrollToFooter=function(t){var e=0;if(this.vertical){if(this.fixedItemHeight<this.view.height)return;e=this.verticalAxisDirection==Mt.TOP_TO_BOTTOM?this.viewFooterBoundary:this.viewHeaderBoundary}else{if(this.fixedItemWidth<this.view.width)return;e=this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT?this.viewFooterBoundary:this.viewHeaderBoundary}this.scrollToIndex(this.itemTotal-1,t,new v(e,e),!0)},a.isNearFooter=function(t){var e=!1;if(t>this.footerIndex&&t<this.headerIndex){var i=Math.abs(t-this.headerIndex)<Math.abs(t-this.footerIndex);e=this.vertical?this.verticalAxisDirection==Mt.TOP_TO_BOTTOM?!i:i:this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT?!i:i}else t>this.footerIndex?e=this.vertical?this.verticalAxisDirection==Mt.TOP_TO_BOTTOM:this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT:t<this.headerIndex&&(e=this.vertical?this.verticalAxisDirection!=Mt.TOP_TO_BOTTOM:this.horizontalAxisDirection!=Ct.LEFT_TO_RIGHT);return e},a.getFooterOffset=function(t){var e=this.footerIndex%this.groupItemTotal;return t%this.groupItemTotal-e+this.groupItemTotal},a.getHeaderOffset=function(t){return this.headerIndex%this.groupItemTotal-t%this.groupItemTotal+this.groupItemTotal},a.offsetToHeader=function(t){var e=0;e=this.vertical?this.verticalAxisDirection==Mt.TOP_TO_BOTTOM?this.getHeaderOffset(t):this.getFooterOffset(t):this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT?this.getHeaderOffset(t):this.getFooterOffset(t);for(var i=0;i<e;i++)this.pushToHeader(!0)},a.offsetToFooter=function(t){var e=0;e=this.vertical?this.verticalAxisDirection==Mt.TOP_TO_BOTTOM?this.getFooterOffset(t):this.getHeaderOffset(t):this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT?this.getFooterOffset(t):this.getHeaderOffset(t);for(var i=0;i<e;i++)this.pushToFooter(!0)},a.resetIndexStartToEnd=function(t){for(var e=0;e<this.node.children.length;e++){var i=this.node.children[e];i.__index=t,t++,(this.headerLoop||this.footerLoop)&&t>=this.itemTotal&&(t=0),this.notifyRefreshItem(i)}},a.resetIndexEndToStart=function(t){for(var e=this.node.children.length-1;e>=0;e--){var i=this.node.children[e];i.__index=t,t--,(this.headerLoop||this.footerLoop)&&t<0&&(t=this.itemTotal-1),this.notifyRefreshItem(i)}},a.scrollToIndex=function(t,e,i,o){var r;if(void 0===o&&(o=!1),!(isNaN(t)||t<0||t>this.itemTotal-1)){this.scrollView.stopAutoScroll(),this.isPageView&&this.scrollView.savePageIndex(t);var n=this.node.children.find((function(e){return e.__index==t})),s=!1;if(!n){s=this.isNearFooter(t);var h=this.vertical&&this.verticalAxisDirection==Mt.TOP_TO_BOTTOM||!this.vertical&&this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT;s?(this.offsetToFooter(t),h?this.resetIndexEndToStart(t):this.resetIndexStartToEnd(t)):(this.offsetToHeader(t),h?this.resetIndexStartToEnd(t):this.resetIndexEndToStart(t)),n=this.node.children.find((function(e){return e.__index==t}))}if(n){var a=n.getPosition().clone();this.autoCenter||(this.vertical?this.indexVerticalAxisDirection==Vt.TOP?a.y=o?this.getItemYMin(n._uiProps.uiTransformComp)-this.paddingBottom:this.getItemYMax(n._uiProps.uiTransformComp)+this.paddingTop:a.y=o?this.getItemYMax(n._uiProps.uiTransformComp)+this.paddingTop:this.getItemYMin(n._uiProps.uiTransformComp)-this.paddingBottom:this.indexHorizontalAxisDirection==Nt.LEFT?a.x=o?this.getItemXMax(n._uiProps.uiTransformComp)+this.paddingRight:this.getItemXMin(n._uiProps.uiTransformComp)-this.paddingLeft:a.x=o?this.getItemXMin(n._uiProps.uiTransformComp)-this.paddingLeft:this.getItemXMax(n._uiProps.uiTransformComp)+this.paddingRight);var d,l=null==(r=this.transform)?void 0:r.convertToWorldSpaceAR(a),c=this.view.convertToNodeSpaceAR(l);d=!this.autoCenter&&i?i:this.getCenterAnchor(n._uiProps.uiTransformComp,this.centerPosition),c.multiply(new v(-1,-1,1)).add(d),this.scrollView.scrollToAny(c,e,!0)}}},a.onViewSizeChange=function(){var t=h(n().mark((function t(){var e,i,o,r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isRestart=!0,!(this.selfHorW>0&&this.currentCreateItemTotal>0)){t.next=7;break}if(e=this.vertical?this.view.height:this.view.width,!(this.selfHorW<e*this.multiple)){t.next=7;break}return t.next=6,this.createItems(this.currentCreateItemTotal,!0);case 6:this.scrollToHeader();case 7:for(i=0;i<this.node.children.length;i++)o=this.node.children[i],r=o._uiProps.uiTransformComp,this.setAndSaveSizeAndScale(r);this.resetChilds(!0),this.isRestart=!1;case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.setAndSaveSizeAndScale=function(t){t.setContentSize(this.getItemSize(t)),t.node.__size=t.contentSize.clone(),t.node.__scale=t.node.getScale().clone()},a.getCenterAnchor=function(t,e){var i=e.clone();if(this.vertical){var o=t.height*this.centerAnchor.y,r=t.height*t.anchorY;i.y-=o-r}else{var n=t.width*this.centerAnchor.x,s=t.width*t.anchorX;i.x+=n-s}return i},a.soonFinish=function(){if(this.autoCenter){this.scrollView.stopAutoScroll();for(var t=new v(999999,999999),e=0;e<this.node.children.length;e++){var i,o=this.node.children[e],r=null==(i=this.transform)?void 0:i.convertToWorldSpaceAR(o.position),n=this.view.convertToNodeSpaceAR(r),s={width:!1,height:!1},h=this.getCenterAnchor(o._uiProps.uiTransformComp,this.centerPosition),a=n.subtract(h);s.width=Math.abs(a.x)<Math.abs(t.x),s.height=Math.abs(a.y)<Math.abs(t.y),(this.vertical&&s.height||!this.vertical&&s.width)&&(t=a)}t.multiply(new v(-1,-1,1)),this.scrollView.scrollToAny(t,this.centerTime)}},a.getItemSize=function(t){var e=new y;if(this.vertical){var i=this.spacingX*(this.groupItemTotal-1);e.width=(this.accommodWidth-i)/this.groupItemTotal,e.height=t.height}else{var o=this.spacingY*(this.groupItemTotal-1);e.height=(this.accommodHeight-o)/this.groupItemTotal,e.width=t.width}return e},a.getItemYMax=function(t){if(!t)return 0;var e=this.getScaleHeight(t)*(1-t.anchorY);return t.node.position.y+e},a.getItemYMin=function(t){if(!t)return 0;var e=this.getScaleHeight(t)*t.anchorY;return t.node.position.y-e},a.getItemXMax=function(t){if(!t)return 0;var e=this.getScaleWidth(t)*(1-t.anchorX);return t.node.position.x+e},a.getItemXMin=function(t){if(!t)return 0;var e=this.getScaleWidth(t)*t.anchorX;return t.node.position.x-e},a.getStartX=function(t){if(!t)return 0;var e=0;if(this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT){var i=this.getScaleWidth(t)*t.anchorX;e=this.viewStartPoint.x+i}else{var o=this.getScaleWidth(t)*(1-t.anchorX);e=this.viewStartPoint.x-o}return e},a.getEndX=function(t){if(!t)return 0;var e=0;if(this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT){var i=this.getScaleWidth(t)*(1-t.anchorX);e=-this.viewStartPoint.x-i-this.paddingRight+this.paddingLeft}else{var o=this.getScaleWidth(t)*t.anchorX;e=-this.viewStartPoint.x+o+this.paddingLeft-this.paddingRight}return e},a.getStartY=function(t){if(!t)return 0;var e=0;if(this.verticalAxisDirection==Mt.TOP_TO_BOTTOM){var i=this.getScaleHeight(t)*(1-t.anchorY);e=this.viewStartPoint.y-i}else{var o=this.getScaleHeight(t)*t.anchorY;e=this.viewStartPoint.y+o}return e},a.getEndY=function(t){if(!t)return 0;var e=0;if(this.verticalAxisDirection==Mt.TOP_TO_BOTTOM){var i=this.getScaleHeight(t)*t.anchorY;e=-this.viewStartPoint.y+i+this.paddingBottom-this.paddingTop}else{var o=this.getScaleHeight(t)*(1-t.anchorY);e=-this.viewStartPoint.y-o-this.paddingTop+this.paddingBottom}return e},a.isAccommodateByTop=function(t){return this.getItemYMax(t)+this.paddingTop<.5*this.accommodHeight},a.isAccommodateByBottom=function(t){return this.getItemYMin(t)-this.paddingBottom>-.5*this.accommodHeight},a.isAccommodateByLeft=function(t){return this.getItemXMin(t)-this.paddingLeft>-.5*this.accommodWidth},a.isAccommodateByRight=function(t){return this.getItemXMax(t)+this.paddingRight<.5*this.accommodWidth},a.getRelativeByLeft=function(t,e){return this.getItemXMin(e)-this.spacingX-this.getScaleWidth(t)*(1-t.anchorX)},a.getRelativeByRight=function(t,e){return this.getItemXMax(e)+this.spacingX+this.getScaleWidth(t)*t.anchorX},a.getRelativeByTop=function(t,e){return this.getItemYMax(e)+this.spacingY+this.getScaleHeight(t)*(1-t.anchorY)},a.getRelativeByBottom=function(t,e){return this.getItemYMin(e)-this.spacingY-this.getScaleHeight(t)*t.anchorY},a.setItemPosition=function(t,e,i){void 0===i&&(i=!1);var o=new v;this.header?o=this.vertical?this.getVerticalRelativePosition(t,e,i):this.getHorizontalRelativePosition(t,e,i):(o.x=this.getStartX(t),o.y=this.getStartY(t)),t.node.setPosition(o)},a.getVerticalRelativePosition=function(t,e,i){var o=new v,r=!1;return r=this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT?i?this.isAccommodateByLeft(e):this.isAccommodateByRight(e):i?this.isAccommodateByRight(e):this.isAccommodateByLeft(e),this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT?o.x=i?r?this.getRelativeByLeft(t,e):this.getEndX(t):r?this.getRelativeByRight(t,e):this.getStartX(t):o.x=i?r?this.getRelativeByRight(t,e):this.getEndX(t):r?this.getRelativeByLeft(t,e):this.getStartX(t),this.verticalAxisDirection==Mt.TOP_TO_BOTTOM?o.y=i?r?e.node.position.y:this.getRelativeByTop(t,e):r?e.node.position.y:this.getRelativeByBottom(t,e):o.y=i?r?e.node.position.y:this.getRelativeByBottom(t,e):r?e.node.position.y:this.getRelativeByTop(t,e),o},a.getHorizontalRelativePosition=function(t,e,i){var o=new v,r=!1;return r=this.verticalAxisDirection==Mt.TOP_TO_BOTTOM?i?this.isAccommodateByTop(e):this.isAccommodateByBottom(e):i?this.isAccommodateByBottom(e):this.isAccommodateByTop(e),this.verticalAxisDirection==Mt.TOP_TO_BOTTOM?o.y=i?r?this.getRelativeByTop(t,e):this.getEndY(t):r?this.getRelativeByBottom(t,e):this.getStartY(t):o.y=i?r?this.getRelativeByBottom(t,e):this.getEndY(t):r?this.getRelativeByTop(t,e):this.getStartY(t),this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT?o.x=i?r?e.node.position.x:this.getRelativeByLeft(t,e):r?e.node.position.x:this.getRelativeByRight(t,e):o.x=i?r?e.node.position.x:this.getRelativeByRight(t,e):r?e.node.position.x:this.getRelativeByLeft(t,e),o},a.refreshItems=function(t){if(t<0){for(var e=0;e<-t;e++)this.headerLoop||this.footerLoop?this.pushToHeader():this.pushToHeader(!0);for(var i=this.headerIndex>0?this.headerIndex:0,o=0;o<this.node.children.length;o++){var r=this.node.children[o];(this.headerLoop||this.footerLoop)&&i>this.itemTotal-1&&(i=0),r.__index=i,this.notifyRefreshItem(r),i++}this.scrollView.startAutoScroll()}else for(var n=0;n<this.node.children.length;n++)this.vertical?this.verticalAxisDirection==Mt.TOP_TO_BOTTOM?this.pushToFooter():this.pushToHeader():this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT?this.pushToFooter():this.pushToHeader()},a.createItems=function(){var t=h(n().mark((function t(e,i){var o,r,s=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===i&&(i=!1),null==(o=this.gener)||o.return(""),i&&(this._maxPrefabTotal=0,this.selfHorW=0),i||!(this.node.children.length>e)){t.next=6;break}return this.removeItems(e),t.abrupt("return",!1);case 6:if(!(this._maxPrefabTotal>0&&this._maxPrefabTotal==this.node.children.length)){t.next=8;break}return t.abrupt("return",!1);case 8:return r=e-this.node.children.length,this.gener=this.getGeneratorLength(r,(function(){var t=_(s.prefab);t.__index=s.node.children.length;var e,i,o=t._uiProps.uiTransformComp;return s.setAndSaveSizeAndScale(o),s.setItemPosition(t._uiProps.uiTransformComp,s.footer),s.node.addChild(t),s.notifyRefreshItem(t),t.on(p.EventType.SIZE_CHANGED,s.onChildSize,s),t.on(p.EventType.TRANSFORM_CHANGED,s.onChildScale,s),s.vertical?(e=s.contentSize.height,i=s.view.height):(e=s.contentSize.width,i=s.view.width),!(e>=i*s.multiple)||(s._maxPrefabTotal=s.node.children.length,s.selfHorW=e,console.log("已固定item数量",s._maxPrefabTotal),!1)})),t.next=12,this.exeGenerator(this.gener,20);case 12:return t.abrupt("return",!0);case 13:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}(),a.removeItems=function(t){for(var e=this.node.children.length-t,i=0;i<e;i++){var o=this.node.children[this.node.children.length-1];o.off(p.EventType.SIZE_CHANGED,this.onChildSize,this),o.off(p.EventType.TRANSFORM_CHANGED,this.onChildScale,this),o.destroy(),this.node.removeChild(o)}},a.addEventListener=function(){this.node.on(m.TRANSFORM_CHANGED,this.onPositionChanged,this)},a.removeEventListener=function(){this.node.off(m.TRANSFORM_CHANGED,this.onPositionChanged,this)},a.onChildScale=function(t){if(!this.isRestart&&this.affectedByScale&&t==p.TransformBit.SCALE){for(var e=0;e<this.node.children.length;e++){var i=this.node.children[e],o=i.__scale;if(1==this.groupItemTotal){if(this.vertical){if(i.scale.x!=o.x)return console.warn("不允许修改Item缩放X"),void i.setScale(new v(o.x,i.scale.y))}else if(i.scale.y!=o.y)return console.warn("不允许修改Item缩放Y"),void i.setScale(new v(i.scale.y,o.y))}else if(this.groupItemTotal>1&&!i.scale.equals(o))return console.warn("Grid模式不允许修改Item缩放"),void i.setScale(o)}if(this.groupItemTotal>1)return;this.resetChilds()}},a.onChildSize=function(){if(!this.isRestart){for(var t=0;t<this.node.children.length;t++){var e=this.node.children[t],i=e.__size,o=e._uiProps.uiTransformComp;if(1==this.groupItemTotal){if(this.vertical){if((null==o?void 0:o.width)!=i.width)return console.warn("不允许修改Item宽度"),void o.setContentSize(x(i.width,o.height))}else if((null==o?void 0:o.height)!=i.height)return console.warn("不允许修改Item高度"),void o.setContentSize(x(o.width,i.height))}else if(this.groupItemTotal>1&&!o.contentSize.equals(i))return console.warn("Grid模式不允许修改Item尺寸"),void o.setContentSize(i)}this.groupItemTotal>1||this.resetChilds()}},a.resetChilds=function(t){void 0===t&&(t=!1);var e=this.header;if(this.vertical&&this.fixedItemHeight<=this.view.height||!this.vertical&&this.fixedItemWidth<=this.view.width){var i,o=this.getStartX(this.header),r=this.getStartY(this.header);null==(i=this.header)||i.node.setPosition(new v(o,r))}if(t)if(this.vertical){var n,s=this.getStartX(this.header);null==(n=this.header)||n.node.setPosition(new v(s,this.header.node.position.y))}else{var h,a=this.getStartY(this.header);null==(h=this.header)||h.node.setPosition(new v(this.header.node.position.x,a))}for(var d=1;d<this.node.children.length;d++){var l=this.node.children[d]._uiProps.uiTransformComp,c=e||this.header;this.setItemPosition(l,c),e=l}t||this.scrollView.startAutoScroll()},a.getUsedScaleValue=function(t){return this.affectedByScale?Math.abs(t):1},a.getScaleWidth=function(t){return t?t.width*this.getUsedScaleValue(t.node.scale.x):0},a.getScaleHeight=function(t){return t?t.height*this.getUsedScaleValue(t.node.scale.y):0},a.onPositionChanged=function(){if(!this.isRestart){if(this.vertical?this.scrollView.prevLocation.y<this.scrollView.location.y?this.scrollDirection=Gt.FOOTER:this.scrollView.prevLocation.y>this.scrollView.location.y?this.scrollDirection=Gt.HEADER:this.scrollDirection=Gt.NONE:this.scrollView.prevLocation.x>this.scrollView.location.x?this.scrollDirection=Gt.FOOTER:this.scrollView.prevLocation.x<this.scrollView.location.x?this.scrollDirection=Gt.HEADER:this.scrollDirection=Gt.NONE,this.vertical)for(var t=0;t<this.node.children.length;t++){Math.abs(this.prevPos.y-this.node.position.y)>Wt&&(this.prevPos.y<this.node.position.y?this.pushToFooter():this.prevPos.y>this.node.position.y&&this.pushToHeader())}else for(var e=0;e<this.node.children.length;e++){Math.abs(this.prevPos.x-this.node.position.x)>Wt&&(this.prevPos.x>this.node.position.x?this.pushToFooter():this.prevPos.x<this.node.position.x&&this.pushToHeader())}this.prevPos=this.node.position.clone()}},a.pushToFooter=function(t){var e,i,o,r;(void 0===t&&(t=!1),this.vertical)?this.verticalAxisDirection==Mt.TOP_TO_BOTTOM?(t||this.headerBoundary-this.paddingTop>this.viewHeaderBoundary+(null==(e=this.header)?void 0:e.height))&&this.pushToFooterHandler():(t||this.footerBoundary-this.paddingTop>this.viewHeaderBoundary+(null==(i=this.header)?void 0:i.height))&&this.pushToHeaderHandler():this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT?(t||this.headerBoundary+this.paddingLeft<this.viewHeaderBoundary-(null==(o=this.header)?void 0:o.width))&&this.pushToFooterHandler():(t||this.footerBoundary+this.paddingLeft<this.viewHeaderBoundary-(null==(r=this.header)?void 0:r.width))&&this.pushToHeaderHandler()},a.pushToHeader=function(t){var e,i,o,r;(void 0===t&&(t=!1),this.vertical)?this.verticalAxisDirection==Mt.TOP_TO_BOTTOM?(t||this.footerBoundary+this.paddingBottom<this.viewFooterBoundary-(null==(e=this.footer)?void 0:e.height))&&this.pushToHeaderHandler():(t||this.headerBoundary+this.paddingBottom<this.viewFooterBoundary-(null==(i=this.footer)?void 0:i.height))&&this.pushToFooterHandler():this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT?(t||this.footerBoundary-this.paddingRight>this.viewFooterBoundary+(null==(o=this.footer)?void 0:o.width))&&this.pushToHeaderHandler():(t||this.headerBoundary-this.paddingRight>this.viewFooterBoundary+(null==(r=this.footer)?void 0:r.width))&&this.pushToFooterHandler()},a.pushToFooterHandler=function(){var t,e,i=null==(t=this.header)?void 0:t.node;if(this.vertical?this.verticalAxisDirection==Mt.TOP_TO_BOTTOM?this.footerLoop:this.headerLoop:this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT?this.footerLoop:this.headerLoop)this.footerIndex>=this.itemTotal-1?i.__index=0:i.__index=this.footerIndex+1;else{if(!this.footer||this.footerIndex>=this.itemTotal-1)return;i.__index=this.footerIndex+1}this.notifyRefreshItem(i),this.setItemPosition(this.header,this.footer),null==(e=this.header)||e.node.setSiblingIndex(this.node.children.length)},a.pushToHeaderHandler=function(){var t,e,i,o=null==(t=this.footer)?void 0:t.node;(this.vertical?(i=this.verticalAxisDirection==Mt.TOP_TO_BOTTOM?this.headerLoop:this.footerLoop,this.verticalAxisDirection==Mt.TOP_TO_BOTTOM?this.footerLoop:this.headerLoop):(i=this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT?this.headerLoop:this.footerLoop,this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT?this.footerLoop:this.headerLoop),i||0!=this.headerIndex)||(this.vertical?this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT?this.isAccommodateByLeft(this.header):this.isAccommodateByRight(this.header):this.verticalAxisDirection==Mt.TOP_TO_BOTTOM?this.isAccommodateByTop(this.header):this.isAccommodateByBottom(this.header))&&this.resetChilds(!0);if(i)0==this.headerIndex?o.__index=this.itemTotal-1:o.__index=this.headerIndex-1;else{if(!this.header||0==this.headerIndex)return;o.__index=this.headerIndex-1}this.notifyRefreshItem(o),this.setItemPosition(this.footer,this.header,!0),null==(e=this.footer)||e.node.setSiblingIndex(0)},a.notifyRefreshItem=function(t){T.emitEvents(this.refreshItemEvents,t,t.__index)},a.getGeneratorLength=n().mark((function t(e,i){var o,r,s,h,a=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o=a.length,r=new Array(o>2?o-2:0),s=2;s<o;s++)r[s-2]=a[s];h=0;case 2:if(!(h<e)){t.next=13;break}if(!i.apply(void 0,[h].concat(r))){t.next=9;break}return void(t.next=7);case 7:t.next=10;break;case 9:return t.abrupt("return");case 10:h++,t.next=2;break;case 13:case"end":return t.stop()}}),t)})),a.exeGenerator=function(t,e){return new Promise((function(i,o){var r=t;!function t(){for(var o=(new Date).getTime(),n=r.next();;n=r.next()){if(null==n||n.done)return void i(null);if((new Date).getTime()-o>e)return void setTimeout((function(){return t()}),O.getDeltaTime())}}()}))},s(e,[{key:"currPageIndex",get:function(){return this._currPageIndex}},{key:"lastPageIndex",get:function(){return this._lastPageIndex}},{key:"vertical",get:function(){return this.layoutType==Ft.VERTICAL}},{key:"horizontal",get:function(){return this.layoutType==Ft.HORIZONTAL}},{key:"transform",get:function(){return this.node._uiProps.uiTransformComp}},{key:"accommodWidth",get:function(){return this.view.width-this.paddingLeft-this.paddingRight}},{key:"accommodHeight",get:function(){return this.view.height-this.paddingTop-this.paddingBottom}},{key:"header",get:function(){return 0==this.node.children.length?null:this.node.children[0]._uiProps.uiTransformComp}},{key:"footer",get:function(){return 0==this.node.children.length?null:this.node.children[this.node.children.length-1]._uiProps.uiTransformComp}},{key:"headerIndex",get:function(){return this.header?this.header.node.__index:-1}},{key:"footerIndex",get:function(){return this.footer?this.footer.node.__index:-1}},{key:"viewStartPoint",get:function(){var t=new v;return this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT?t.x=-.5*this.view.width+this.paddingLeft:t.x=.5*this.view.width-this.paddingRight,this.verticalAxisDirection==Mt.TOP_TO_BOTTOM?t.y=.5*this.view.height-this.paddingTop:t.y=-.5*this.view.height+this.paddingBottom,t}},{key:"viewHeaderBoundary",get:function(){return this.vertical?.5*this.view.height:-.5*this.view.width}},{key:"viewFooterBoundary",get:function(){return this.vertical?-.5*this.view.height:.5*this.view.width}},{key:"headerBoundary",get:function(){return this.header?this.vertical?this.verticalAxisDirection==Mt.TOP_TO_BOTTOM?this.node.position.y+this.getItemYMax(this.header)+this.paddingTop:this.node.position.y+this.getItemYMin(this.header)-this.paddingBottom:this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT?this.node.position.x+this.getItemXMin(this.header)-this.paddingLeft:this.node.position.x+this.getItemXMax(this.header)+this.paddingRight:0}},{key:"footerBoundary",get:function(){return this.footer?this.vertical?this.verticalAxisDirection==Mt.TOP_TO_BOTTOM?this.node.position.y+this.getItemYMin(this.footer)-this.paddingBottom:this.node.position.y+this.getItemYMax(this.footer)+this.paddingTop:this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT?this.node.position.x+this.getItemXMax(this.footer)+this.paddingRight:this.node.position.x+this.getItemXMin(this.footer)-this.paddingLeft:0}},{key:"centerHeaderBoundary",get:function(){var t=this.vertical?"y":"x";return this.centerNode?this.vertical?this.verticalAxisDirection==Mt.TOP_TO_BOTTOM?this.headerBoundary+(this.viewHeaderBoundary-this.centerNode.position[t]):this.footerBoundary+(this.viewHeaderBoundary-this.centerNode.position[t]):this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT?this.headerBoundary+(this.viewHeaderBoundary-this.centerNode.position[t]):this.footerBoundary+(this.viewHeaderBoundary-this.centerNode.position[t]):this.vertical?this.verticalAxisDirection==Mt.TOP_TO_BOTTOM?this.headerBoundary+(this.viewHeaderBoundary-this.view.node.position[t]):this.footerBoundary+(this.viewHeaderBoundary-this.view.node.position[t]):this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT?this.headerBoundary+(this.viewHeaderBoundary-this.view.node.position[t]):this.footerBoundary+(this.viewHeaderBoundary-this.view.node.position[t])}},{key:"centerFooterBoundary",get:function(){var t=this.vertical?"y":"x";return this.centerNode?this.vertical?this.verticalAxisDirection==Mt.TOP_TO_BOTTOM?this.footerBoundary+(this.viewFooterBoundary-this.centerNode.position[t]):this.headerBoundary+(this.viewFooterBoundary-this.centerNode.position[t]):this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT?this.footerBoundary+(this.viewFooterBoundary-this.centerNode.position[t]):this.headerBoundary+(this.viewFooterBoundary-this.centerNode.position[t]):this.vertical?this.verticalAxisDirection==Mt.TOP_TO_BOTTOM?this.footerBoundary+(this.viewFooterBoundary-this.view.node.position[t]):this.headerBoundary+(this.viewFooterBoundary-this.view.node.position[t]):this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT?this.footerBoundary+(this.viewFooterBoundary-this.view.node.position[t]):this.headerBoundary+(this.viewFooterBoundary-this.view.node.position[t])}},{key:"isOfLeftBoundary",get:function(){if(this.vertical)return 0;if(this.autoCenter)return this.scrollDirection==Gt.HEADER?this.centerHeaderBoundary:0;if(this.headerLoop)return this.header?0:this.viewHeaderBoundary+this.node.position.x;if(!this.header||this.fixedItemWidth<=this.view.width)return this.viewHeaderBoundary+this.node.position.x;if(this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT){if(0==this.headerIndex)return this.headerBoundary}else if(this.footerIndex==this.itemTotal-1)return this.footerBoundary;return 0}},{key:"isOfTopBoundary",get:function(){if(!this.vertical)return 0;if(this.autoCenter)return this.scrollDirection==Gt.HEADER?this.centerHeaderBoundary:0;if(this.headerLoop)return this.header?0:this.viewHeaderBoundary+this.node.position.y;if(!this.header||this.fixedItemHeight<=this.view.height)return this.viewHeaderBoundary+this.node.position.y;if(this.verticalAxisDirection==Mt.TOP_TO_BOTTOM){if(0==this.headerIndex)return this.headerBoundary}else if(this.footerIndex==this.itemTotal-1)return this.footerBoundary;return 0}},{key:"isOfRightBoundary",get:function(){if(this.vertical)return 0;if(this.autoCenter)return this.scrollDirection==Gt.FOOTER?this.centerFooterBoundary:0;if(this.footerLoop)return this.footer?0:this.viewFooterBoundary+this.node.position.x;if(!this.footer||this.fixedItemWidth<=this.view.width)return this.viewFooterBoundary+this.node.position.x;if(this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT){if(this.footerIndex==this.itemTotal-1)return this.footerBoundary}else if(0==this.headerIndex)return this.headerBoundary;return 0}},{key:"isOfButtomBoundary",get:function(){if(!this.vertical)return 0;if(this.autoCenter)return this.scrollDirection==Gt.FOOTER?this.centerFooterBoundary:0;if(this.footerLoop)return this.footer?0:this.viewFooterBoundary+this.node.position.y;if(!this.footer||this.fixedItemHeight<=this.view.height)return this.viewFooterBoundary+this.node.position.y;if(this.verticalAxisDirection==Mt.TOP_TO_BOTTOM){if(this.footerIndex==this.itemTotal-1)return this.footerBoundary}else if(0==this.headerIndex)return this.headerBoundary;return 0}},{key:"fixedItemHeight",get:function(){return this.header?this.verticalAxisDirection==Mt.TOP_TO_BOTTOM?Math.abs(this.getItemYMax(this.header))+Math.abs(this.getItemYMin(this.footer)):Math.abs(this.getItemYMin(this.header))+Math.abs(this.getItemYMax(this.footer)):0}},{key:"fixedItemWidth",get:function(){return this.header?this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT?Math.abs(this.getItemXMin(this.header))+Math.abs(this.getItemXMax(this.footer)):Math.abs(this.getItemXMax(this.header))+Math.abs(this.getItemXMin(this.footer)):0}},{key:"contentSize",get:function(){if(0==this.node.children.length)return this.view.contentSize;var t=new y(this.view.contentSize.width,this.view.contentSize.height);return this.vertical?this.verticalAxisDirection==Mt.TOP_TO_BOTTOM?t.height=this.headerBoundary+-this.footerBoundary:t.height=this.footerBoundary+-this.headerBoundary:this.horizontalAxisDirection==Ct.LEFT_TO_RIGHT?t.width=this.footerBoundary+-this.headerBoundary:t.width=this.headerBoundary+-this.footerBoundary,t.width<this.view.contentSize.width&&(t.width=this.view.contentSize.width),t.height<this.view.contentSize.height&&(t.height=this.view.contentSize.height),t}},{key:"maxPrefabTotal",get:function(){return this._maxPrefabTotal}},{key:"itemTotal",get:function(){return this._itemTotal}},{key:"centerPosition",get:function(){if(!this._centerPosition)if(this._centerPosition=new v,this.autoCenter){if(this.centerNode){var t,e,i=null==(t=this.centerNode.parent)||null==(e=t._uiProps.uiTransformComp)?void 0:e.convertToWorldSpaceAR(this.centerNode.position);this._centerPosition=this.view.convertToNodeSpaceAR(i)}}else this.vertical?this.indexVerticalAxisDirection==Vt.TOP?this._centerPosition.y=this.viewHeaderBoundary:this._centerPosition.y=this.viewFooterBoundary:this.indexHorizontalAxisDirection==Nt.LEFT?this._centerPosition.x=this.viewHeaderBoundary:this._centerPosition.x=this.viewFooterBoundary;return this._centerPosition}}]),e}(w)).VerticalAxisDirection=Mt,Dt.HorizontalAxisDirection=Ct,nt=e((rt=Dt).prototype,"scrollView",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=e(rt.prototype,"view",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=e(rt.prototype,"prefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=e(rt.prototype,"layoutType",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ft.VERTICAL}}),dt=e(rt.prototype,"indexVerticalAxisDirection",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vt.TOP}}),lt=e(rt.prototype,"indexHorizontalAxisDirection",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nt.LEFT}}),ct=e(rt.prototype,"verticalAxisDirection",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mt.TOP_TO_BOTTOM}}),ut=e(rt.prototype,"horizontalAxisDirection",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ct.LEFT_TO_RIGHT}}),ft=e(rt.prototype,"groupItemTotal",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Tt=e(rt.prototype,"multiple",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),pt=e(rt.prototype,"paddingTop",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),gt=e(rt.prototype,"paddingBottom",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),vt=e(rt.prototype,"paddingLeft",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),yt=e(rt.prototype,"paddingRight",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),mt=e(rt.prototype,"spacingX",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xt=e(rt.prototype,"spacingY",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),wt=e(rt.prototype,"affectedByScale",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ot=e(rt.prototype,"isPageView",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_t=e(rt.prototype,"pageTurningSpeed",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),Bt=e(rt.prototype,"indicator",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=e(rt.prototype,"scrollThreshold",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),bt=e(rt.prototype,"autoPageTurningThreshold",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),At=e(rt.prototype,"pageEvents",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ht=e(rt.prototype,"autoCenter",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pt=e(rt.prototype,"centerTime",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Rt=e(rt.prototype,"centerNode",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=e(rt.prototype,"centerAnchor",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new g(.5,.5)}}),Lt=e(rt.prototype,"headerLoop",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Et=e(rt.prototype,"footerLoop",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zt=e(rt.prototype,"refreshItemEvents",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ot=rt))||ot)||ot));a._RF.pop()}}}));

System.register("chunks:///_virtual/super-scrollview.ts",["./rollupPluginModLoBabelHelpers.js","cc","./super-layout.ts"],(function(t){"use strict";var e,i,o,s,r,a,n,h,l,u,c,d,f,y,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,n=t._decorator,h=t.Vec2,l=t.EventHandler,u=t.PageView,c=t.Node,d=t.ScrollView,f=t.Vec3,y=t.EventTouch},function(t){g=t.SuperLayout}],execute:function(){var v,p,_,T,E,O,P,m,L,S,b,x,B,I,H,M,R,k;t("ScrollViewDirection",void 0),a._RF.push({},"72cf528Z4dK+ofNYmM2Xf22","super-scrollview",void 0);var A,w=n.ccclass,C=n.property,D=1e-4,N=new h;!function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL",t[t.NONE=2]="NONE"}(A||(A=t("ScrollViewDirection",{})));t("SuperScrollview",(v=w("SuperScrollview"),p=C({tooltip:"注意！向上传递事件只会发送当前滑动相反方向,如果开启horizontal则会发送vertical事件。如果开启vertical则会发送horizontal事件。同时开启horizontal和vertical 不会发送任何事件"}),_=C({displayName:"顶部偏移量",tooltip:"下拉时超过此偏移会发送下拉事件",visible:function(){return this.pullRefresh}}),T=C({displayName:"满足触发Header的倍数",visible:function(){return this.pullRefresh}}),E=C({displayName:"底部偏移量",tooltip:"上拉时超过此偏移会发送上拉事件",visible:function(){return this.pullRefresh}}),O=C({displayName:"满足触发Footer的倍数",visible:function(){return this.pullRefresh}}),P=C({type:l,visible:function(){return this.pullRefresh}}),m=C({type:l,visible:function(){return this.pullRefresh}}),v((b=e((S=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).direction=A.NONE,o(e,"isTransmitEvent",b,s(e)),o(e,"pullRefresh",x,s(e)),o(e,"headerOutOffset",B,s(e)),o(e,"headerMultiple",I,s(e)),o(e,"footerOutOffset",H,s(e)),o(e,"footerMultiple",M,s(e)),o(e,"headerEvents",R,s(e)),o(e,"footerEvents",k,s(e)),e.prevLocation=new h,e.location=new h,e._touchBeganPosition=new h,e._touchEndPosition=new h,e.isMoveHeader=!1,e.isMoveFooter=!1,e.isLockHeader=!1,e.isLockFooter=!1,e.headerProgress=0,e.footerProgress=0,e.isCallSoonFinish=!1,e}i(e,t);var a=e.prototype;return a.onLoad=function(){this.layout.autoCenter&&(this.brake=.7)},a.onEnable=function(){t.prototype.onEnable.call(this),this.node.on(u.EventType.SCROLL_ENG_WITH_THRESHOLD,this.dispatchPageTurningEvent,this)},a.onDisable=function(){t.prototype.onDisable.call(this),this.node.off(u.EventType.SCROLL_ENG_WITH_THRESHOLD,this.dispatchPageTurningEvent,this)},a.getPages=function(){return new Array(this.layout.itemTotal)},a._getContentTopBoundary=function(){return this._content?0==this.layout.isOfTopBoundary?this._topBoundary:this.layout.isOfTopBoundary:-1},a._getContentBottomBoundary=function(){return this._content?0==this.layout.isOfButtomBoundary?this._bottomBoundary:this.layout.isOfButtomBoundary:-1},a._getContentLeftBoundary=function(){return this._content?0==this.layout.isOfLeftBoundary?this._leftBoundary:this.layout.isOfLeftBoundary:-1},a._getContentRightBoundary=function(){return this._content?0==this.layout.isOfRightBoundary?this._rightBoundary:this.layout.isOfRightBoundary:-1},a._onTouchBegan=function(e,i){this.isCallSoonFinish=!1,this.direction=A.NONE,this.layout.isPageView&&(e.touch.getUILocation(N),h.set(this._touchBeganPosition,N.x,N.y)),t.prototype._onTouchBegan.call(this,e,i),this.isTransmitEvent&&this.transmitEvent(e,c.EventType.TOUCH_START)},a._onTouchMoved=function(e,i){var o,s;if(this.isTransmitEvent){if(this.direction==A.NONE){var r=e.getStartLocation(),a=e.getLocation(),n=Math.abs(r.x-a.x),h=Math.abs(r.y-a.y);n>h?this.direction=A.HORIZONTAL:h>n&&(this.direction=A.VERTICAL)}if(this.vertical&&this.direction===A.HORIZONTAL||this.horizontal&&this.direction==A.VERTICAL)return void this.transmitEvent(e,c.EventType.TOUCH_MOVE)}if(this.prevLocation=null==(o=e.touch)?void 0:o.getPreviousLocation(),this.location=null==(s=e.touch)?void 0:s.getLocation(),t.prototype._onTouchMoved.call(this,e,i),this.pullRefresh){var u=this._getHowMuchOutOfBoundary(),d=this.vertical?u.y:-u.x;d>0&&!this.isLockHeader&&!this.isLockFooter?(this.headerProgress=d<D?0:d/this.headerOutOffset,this.isMoveHeader=this.headerProgress>=this.headerMultiple,l.emitEvents(this.headerEvents,this,{action:!1,progress:this.headerProgress,stage:this.isMoveHeader?"wait":"touch"}),l.emitEvents(this.footerEvents,this,{action:!1,progress:0,stage:"release"})):d<0&&!this.isLockHeader&&!this.isLockFooter?(this.footerProgress=-d<D?0:-d/this.footerOutOffset,this.isMoveFooter=this.footerProgress>=this.footerMultiple,l.emitEvents(this.footerEvents,this,{action:!1,progress:this.footerProgress,stage:this.isMoveFooter?"wait":"touch"}),l.emitEvents(this.headerEvents,this,{action:!1,progress:0,stage:"release"})):0!=d||this.isLockHeader||this.isLockFooter||this.clearProgress()}},a._onTouchEnded=function(e,i){this.layout.isPageView&&(e.touch.getUILocation(N),h.set(this._touchEndPosition,N.x,N.y)),t.prototype._onTouchEnded.call(this,e,i),this.isTransmitEvent&&this.transmitEvent(e,c.EventType.TOUCH_END)},a._onTouchCancelled=function(e,i){this.layout.isPageView&&(e.touch.getUILocation(N),h.set(this._touchEndPosition,N.x,N.y)),t.prototype._onTouchCancelled.call(this,e,i),this.isTransmitEvent&&this.transmitEvent(e,c.EventType.TOUCH_CANCEL)},a._processAutoScrolling=function(t){var e=this._isNecessaryAutoScrollBrake(),i=e?.015:1;this._autoScrollAccumulatedTime+=t*(1/i);var o,s=Math.min(1,this._autoScrollAccumulatedTime/this._autoScrollTotalTime);this._autoScrollAttenuate&&(o=s,s=(o-=1)*o*o*o*o+1);var r=this._autoScrollTargetDelta.clone();r.multiplyScalar(s);var a=this._autoScrollStartPosition.clone();a.add(r);var n=Math.abs(s-1)<=D;if(Math.abs(s-1)<=this.getScrollEndedEventTiming()&&!this._isScrollEndedWithThresholdEventFired&&(this._dispatchEvent(d.EventType.SCROLL_ENG_WITH_THRESHOLD),this._isScrollEndedWithThresholdEventFired=!0),this.elastic){var h=a.clone();h.subtract(this._autoScrollBrakingStartPosition),e&&h.multiplyScalar(i),a.set(this._autoScrollBrakingStartPosition),a.add(h)}else{var l=a.clone();l.subtract(this.getContentPosition());var u=this._getHowMuchOutOfBoundary(l);u.equals(f.ZERO,D)||(a.add(u),n=!0)}n&&(this._autoScrolling=!1);var c=a.clone();c.subtract(this.getContentPosition()),this._clampDelta(c),(this.layout.vertical&&Math.abs(c.y)<=2&&!this.isCallSoonFinish||!this.layout.vertical&&Math.abs(c.x)<=2&&!this.isCallSoonFinish)&&(this.layout.soonFinish(),this.isCallSoonFinish=!0),this._moveContent(c,n),this._dispatchEvent(d.EventType.SCROLLING),this._autoScrolling||(this._isBouncing=!1,this._scrolling=!1,this._dispatchEvent(d.EventType.SCROLL_ENDED))},a.scrollToAny=function(t,e,i){void 0===i&&(i=!0),e?this._startAutoScroll(t,e,i):this._moveContent(t)},a.release=function(){this.isMoveHeader=!1,this.isMoveFooter=!1,(this.isLockHeader||this.isLockFooter)&&(this.vertical&&this.isLockHeader&&(this._topBoundary+=this.headerOutOffset),this.vertical&&this.isLockFooter&&(this._bottomBoundary-=this.footerOutOffset),this.horizontal&&this.isLockHeader&&(this._leftBoundary-=this.headerOutOffset),this.horizontal&&this.isLockFooter&&(this._rightBoundary+=this.footerOutOffset),this.clearProgress(),this.layout.onPositionChanged(),this.isLockHeader=!1,this.isLockFooter=!1,this.startAutoScroll())},a.startAutoScroll=function(){this._autoScrolling=!0,this._outOfBoundaryAmountDirty=!0},a._startAutoScroll=function(e,i,o){this.pullRefresh&&(this.isMoveHeader&&!this.isLockHeader?(this.vertical&&(this._topBoundary-=this.headerOutOffset,e.y-=this.headerOutOffset),this.horizontal&&(this._leftBoundary+=this.headerOutOffset,e.x+=this.headerOutOffset),this.isLockHeader=!0,l.emitEvents(this.headerEvents,this,{action:!0,progress:this.headerProgress,stage:"lock"})):this.isMoveFooter&&!this.isLockFooter&&(this.vertical&&(this._bottomBoundary+=this.footerOutOffset,e.y+=this.footerOutOffset),this.horizontal&&(this._rightBoundary-=this.footerOutOffset,e.x-=this.footerOutOffset),this.isLockFooter=!0,l.emitEvents(this.footerEvents,this,{action:!0,progress:this.footerProgress,stage:"lock"}))),t.prototype._startAutoScroll.call(this,e,i,o)},a._updateScrollBar=function(e){if(t.prototype._updateScrollBar.call(this,new h(e.x,e.y)),!this._autoScrollBraking&&this._autoScrolling&&this.pullRefresh){var i=this.vertical?e.y:-e.x;if(i>0){var o=i<D?0:i/this.headerOutOffset;this.isLockHeader?(this.headerProgress=1==this.headerProgress?this.headerProgress:Math.max(o,1),l.emitEvents(this.headerEvents,this,{action:!1,progress:this.headerProgress,stage:"lock"})):(this.headerProgress=o<this.headerProgress?o:this.headerProgress,l.emitEvents(this.headerEvents,this,{action:!1,progress:this.headerProgress,stage:"release"}))}else if(i<0){var s=-i<D?0:-i/this.footerOutOffset;this.isLockFooter?(this.footerProgress=1==this.footerProgress?this.footerProgress:Math.max(s,1),l.emitEvents(this.footerEvents,this,{action:!1,progress:this.footerProgress,stage:"lock"})):(this.footerProgress=s<this.footerProgress?s:this.footerProgress,l.emitEvents(this.footerEvents,this,{action:!1,progress:this.footerProgress,stage:"release"}))}else 0==i&&(this.isLockHeader||this.isLockFooter||this.clearProgress())}},a.clearProgress=function(){l.emitEvents(this.headerEvents,this,{action:!1,progress:0,stage:"release"}),l.emitEvents(this.footerEvents,this,{action:!1,progress:0,stage:"release"})},a.dispatchPageTurningEvent=function(){this.layout._lastPageIndex!==this.layout._currPageIndex&&(this.layout._lastPageIndex=this.layout._currPageIndex,l.emitEvents(this.layout.pageEvents,this,u.EventType.PAGE_TURNING),this.node.emit(u.EventType.PAGE_TURNING,this))},a._handleReleaseLogic=function(e){this.layout.isPageView?(this._autoScrollToPage(),this._scrolling&&(this._scrolling=!1,this._autoScrolling||this._dispatchEvent(d.EventType.SCROLL_ENDED))):t.prototype._handleReleaseLogic.call(this,e)},a._autoScrollToPage=function(){if(this._startBounceBackIfNeeded()){var t=this._getHowMuchOutOfBoundary();this._clampDelta(t),(t.x>0||t.y<0)&&(this.layout.horizontal?this.layout.horizontalAxisDirection==g.HorizontalAxisDirection.LEFT_TO_RIGHT?this.layout._currPageIndex=0===this.layout.itemTotal?0:this.layout.itemTotal-1:this.layout._currPageIndex=0:this.layout.verticalAxisDirection==g.VerticalAxisDirection.TOP_TO_BOTTOM?this.layout._currPageIndex=0===this.layout.itemTotal?0:this.layout.itemTotal-1:this.layout._currPageIndex=0),(t.x<0||t.y>0)&&(this.layout.horizontal?this.layout.horizontalAxisDirection==g.HorizontalAxisDirection.LEFT_TO_RIGHT?this.layout._currPageIndex=0:this.layout._currPageIndex=0===this.layout.itemTotal?0:this.layout.itemTotal-1:this.layout.verticalAxisDirection==g.VerticalAxisDirection.TOP_TO_BOTTOM?this.layout._currPageIndex=0:this.layout._currPageIndex=0===this.layout.itemTotal?0:this.layout.itemTotal-1),this.layout.indicator&&this.layout.indicator._changedState()}else{var e=new h;h.subtract(e,this._touchBeganPosition,this._touchEndPosition);var i=this.layout._currPageIndex,o=i+this.getDragDirection(e),s=this.layout.pageTurningSpeed*Math.abs(i-o);if(this.layout.footerLoop&&o>=this.layout.itemTotal&&(o=0),this.layout.headerLoop&&o<0&&(o=this.layout.itemTotal-1),o<this.layout.itemTotal){if(this.isScrollable(e,i,o))return void this.scrollToPage(o,s);var r=this._calculateTouchMoveVelocity();if(this.isQuicklyScrollable(r))return void this.scrollToPage(o,s)}this.scrollToPage(i,s)}},a.savePageIndex=function(t){return!(t<0||t>=this.layout.itemTotal)&&(this.layout._currPageIndex=t,this.layout.indicator&&this.layout.indicator._changedState(),!0)},a.scrollToPage=function(t,e){void 0===e&&(e=.3),t<0||t>=this.layout.itemTotal||this.savePageIndex(t)&&this.layout.scrollToIndex(t,e)},a.isQuicklyScrollable=function(t){if(this.horizontal){if(Math.abs(t.x)>this.layout.autoPageTurningThreshold)return!0}else if(this.vertical&&Math.abs(t.y)>this.layout.autoPageTurningThreshold)return!0;return!1},a.getDragDirection=function(t){return this.horizontal?0===t.x?0:this.layout.horizontalAxisDirection==g.HorizontalAxisDirection.LEFT_TO_RIGHT?t.x>0?this.layout.groupItemTotal:-this.layout.groupItemTotal:t.x<0?this.layout.groupItemTotal:-this.layout.groupItemTotal:0===t.y?0:this.layout.verticalAxisDirection==g.VerticalAxisDirection.TOP_TO_BOTTOM?t.y<0?this.layout.groupItemTotal:-this.layout.groupItemTotal:t.y>0?this.layout.groupItemTotal:-this.layout.groupItemTotal},a.isScrollable=function(t,e,i){var o=this.view;return!!o&&(this.horizontal?Math.abs(t.x)>=o.width*this.layout.scrollThreshold:!!this.vertical&&Math.abs(t.y)>=o.height*this.layout.scrollThreshold)},a.transmitEvent=function(t,e){var i=new y(t.getTouches(),t.bubbles);i.type=e,i.touch=t.touch,t.target.parent.dispatchEvent(i)},r(e,[{key:"autoScrolling",set:function(t){this._autoScrolling=t}},{key:"layout",get:function(){var t;this._layout||(this._layout=null==(t=this.content)?void 0:t.getComponent(g));return this._layout}},{key:"curPageIdx",get:function(){return this.layout._currPageIndex}}]),e}(d)).prototype,"isTransmitEvent",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=e(S.prototype,"pullRefresh",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B=e(S.prototype,"headerOutOffset",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),I=e(S.prototype,"headerMultiple",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),H=e(S.prototype,"footerOutOffset",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),M=e(S.prototype,"footerMultiple",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),R=e(S.prototype,"headerEvents",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=e(S.prototype,"footerEvents",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=S))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/textSayBlock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./sayBlockInterface.ts","./totalGameMgr.ts"],(function(e){"use strict";var t,i,n,o,a,r,l,c,s,u,p,h,f,g,b,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Node,c=e.CCInteger,s=e.assert,u=e.Sprite,p=e.math,h=e.Label,f=e.Input},function(e){g=e.blockInterface},function(e){b=e.totalGameMgr,y=e.__externelType}],execute:function(){var d,m,C,_,v,S,B,T,M,k;a._RF.push({},"f22afWfDYhD0oqfboMr6j6B","textSayBlock",void 0);var x=r.ccclass,D=r.property;e("textSayBlock",(d=x("textSayBlock"),m=D({type:l,tooltip:"游戏主视图"}),C=D({type:c,tooltip:"完成它指定任务可以获得的奖励"}),_=D({type:c,tooltip:"任务失败扣除的生命值"}),d(((k=function(e){function t(i,a){var r;if(void 0===i&&(i=!0),(r=e.call(this)||this).isEmoji=!1,r.info="",n(r,"gameMainView",B,o(r)),n(r,"moneyValue",T,o(r)),n(r,"punishValue",M,o(r)),1==i){var l=Math.floor(Math.random()*t.textSel.length);r.info=t.textSel[l]}else s(a),r.info=a;return r}i(t,e);var a=t.prototype;return a.changeOpac=function(e){var t=this.node.getChildByName("chat_bubble").getComponent(u).color;this.node.getChildByName("chat_bubble").getComponent(u).color=new p.Color(t.r,t.g,t.b,255*e)},a.updateStr=function(e){this.info=e,this.node.getChildByName("chat_bubble").children[0].getComponent(h).string=e},a.start=function(){var e=this;this.updateStr(this.info),this.node.on(f.EventType.TOUCH_START,(function(t){e.changeOpac(.5)}),this),this.node.on(f.EventType.TOUCH_END,this.onClick,this)},a.update=function(e){},a.onClick=function(){this.changeOpac(1),s(this.gameMainView),this.gameMainView.getComponent(b).addLayer(y.LAYER_TYPE.BASE_TEXT_LAYER,this.node.getChildByName("chat_bubble").children[0].getComponent(h).string)},a.onDisappear=function(){},a.onDisable=function(){this.onDisappear()},t}(g)).textSel=["好！","大红包！","舒服！","水群"],B=t((S=k).prototype,"gameMainView",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(S.prototype,"moneyValue",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(S.prototype,"punishValue",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=S))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/totalGameMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./detailedTextLabel.ts","./failureLabel.ts","./mainGameMgr.ts","./musicMgr.ts"],(function(e){"use strict";var t,i,a,n,r,o,l,u,s,p,E,m,A,y,L,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Node,u=e.Prefab,s=e.Label,p=e.instantiate,E=e.assert,m=e.Component},function(e){A=e.detailedTextLabel},function(e){y=e.failureLabel},function(e){L=e.mainGameMgr},function(e){c=e.musicMgr}],execute:function(){var h,g,T,_,R,d,f,b,M,Y,S,C,G,U,I,V,P,B,N,v;e("__externelType",void 0),r._RF.push({},"55974hgbX1Pl5H+EODjh4CQ","totalGameMgr",void 0);var w,F,D,O,x,z=o.ccclass,X=o.property;F=w||(w=e("__externelType",{})),function(e){e[e.BASE_TEXT_LAYER=0]="BASE_TEXT_LAYER",e[e.EMOJI_JUMP_LAYER=1]="EMOJI_JUMP_LAYER",e[e.PDD_LAYER=2]="PDD_LAYER",e[e.FAILURE_LAYER=3]="FAILURE_LAYER",e[e.IMAGE_TEXT_LAYER=4]="IMAGE_TEXT_LAYER"}(D||(D={})),F.LAYER_TYPE=D,function(e){e[e.TUTORIAL=0]="TUTORIAL",e[e.BEGINSTART=1]="BEGINSTART",e[e.START=2]="START",e[e.FAILURE=3]="FAILURE"}(O||(O={})),F.GAME_STATUS=O,function(e){e[e.BACKGROUND=0]="BACKGROUND",e[e.REDPACKET=1]="REDPACKET"}(x||(x={})),F.MUSIC_TYPE=x;e("totalGameMgr",(h=z("totalGameMgr"),g=X({type:l,tooltip:"获取的金额数目"}),T=X({type:l,tooltip:"生命值"}),_=X({type:l,tooltip:"点击某些按钮会触发的层次"}),R=X({type:c}),d=X({type:l}),f=X({type:u,tooltip:"BASE_TEXT_LAYER"}),b=X({type:u,tooltip:"FAILURE_LAYER"}),M=X({type:u,tooltip:"砍一刀"}),h(((v=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(t,"moneyValue",C,n(t)),a(t,"punishValue",G,n(t)),a(t,"infoLayer",U,n(t)),a(t,"musicManager",I,n(t)),a(t,"mainGameView",V,n(t)),a(t,"textLayer",P,n(t)),a(t,"failureLayer",B,n(t)),a(t,"cutOneLayer",N,n(t)),t.FAILURE_NUM=10,t.status=w.GAME_STATUS.BEGINSTART,t}i(t,e);var r=t.prototype;return r.startGame=function(){this.moneyValue.getChildByName("moneyVal").getComponent(s).string="0",this.punishValue.getChildByName("punishVal").getComponent(s).string=this.FAILURE_NUM.toString(),this.mainGameView.getComponent(L).gameStart(),this.status=w.GAME_STATUS.BEGINSTART,this.infoLayer.destroyAllChildren(),this.musicManager.regionPlay()},r.start=function(){this.startGame()},r.addLayer=function(e,t){switch(e){case w.LAYER_TYPE.BASE_TEXT_LAYER:var i=p(this.textLayer);this.infoLayer.addChild(i),i.getComponent(A).updateStr(t);break;case w.LAYER_TYPE.FAILURE_LAYER:console.log("FAIL!");var a=p(this.failureLayer);a.getComponent(y).totalGameManager=this,this.infoLayer.addChild(a);break;case w.LAYER_TYPE.IMAGE_TEXT_LAYER:var n=p(this.textLayer);this.infoLayer.addChild(n),n.getComponent(A).updateSpriteFrame(t);break;case w.LAYER_TYPE.PDD_LAYER:var r=p(this.cutOneLayer);this.infoLayer.addChild(r)}},r.updateValue=function(e,t){var i=Number(this.moneyValue.getChildByName("moneyVal").getComponent(s).string),a=Number(this.punishValue.getChildByName("punishVal").getComponent(s).string);this.moneyValue.getChildByName("moneyVal").getComponent(s).string=(e+i).toFixed(2).toString(),this.punishValue.getChildByName("punishVal").getComponent(s).string=(t+a).toString(),e>0&&(E(this.musicManager),this.musicManager.playOneShot("money"),Math.floor(i/100)<Math.floor((i+e)/100)&&(E(this.mainGameView),this.mainGameView.getComponent(L).increaseSpeed(),this.musicManager.speedUp())),t+a<=0&&(this.status=w.GAME_STATUS.FAILURE,this.addLayer(w.LAYER_TYPE.FAILURE_LAYER,null))},r.update=function(e){},t}(m)).LAYER_TYPE=void 0,v.GAME_STATUS=void 0,C=t((S=v).prototype,"moneyValue",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(S.prototype,"punishValue",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(S.prototype,"infoLayer",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(S.prototype,"musicManager",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(S.prototype,"mainGameView",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(S.prototype,"textLayer",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(S.prototype,"failureLayer",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(S.prototype,"cutOneLayer",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=S))||Y));r._RF.pop()}}}));

System.register("chunks:///_virtual/vertical.ts",["./rollupPluginModLoBabelHelpers.js","cc","./baseItem.ts"],(function(t){"use strict";var e,n,r,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,i=t.Size},function(t){o=t.BaseItem}],execute:function(){var s;n._RF.push({},"ea9d1sCNmFIY78k1DtEu0xO","vertical",void 0);var c=r.ccclass;r.property,t("Vertical",c("Vertical")(s=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var r=n.prototype;return r.onLoad=function(){var t;this.input.placeholder=null==(t=this.transform)?void 0:t.height.toString()},r.onInput=function(){var t,e=Number(this.input.string);isNaN(e)||e<100||null==(t=this.transform)||t.setContentSize(new i(this.transform.contentSize.width,e))},n}(o))||s);n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});